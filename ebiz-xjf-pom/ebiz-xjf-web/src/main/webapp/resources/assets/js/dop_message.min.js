jQuery.fn.load=function(d,g,h){if(typeof d!=="string"&&_load){return _load.apply(this,arguments)}var a,c,e,b=this,f=d.indexOf(" ");if(f>=0){a=d.slice(f,d.length);d=d.slice(0,f)}if(jQuery.isFunction(g)){h=g;g=undefined}else{if(g&&typeof g==="object"){e="POST"}}if(b.length>0){jQuery.ajax({url:d,timeout:5000,error:function(j,k,i){if(k==="timeout"){h=function(){$.dopErr("连接超时!请稍后再试!!!")}}else{if(k=="error"){if(j.status!=0){h=function(){$.dopErr("系统繁忙!!!,请稍后再试!!!",null)}}}}},type:e,dataType:"html",data:g}).done(function(i){c=arguments;b.html(a?jQuery("<div>").append(jQuery.parseHTML(i)).find(a):i)}).complete(h&&function(j,i){b.each(h,c||[j.responseText,i,j])})}return this};$.ajaxSetup({contentType:"application/x-www-form-urlencoded;charset=utf-8",complete:function(b,c){var a=b.getResponseHeader("sessionstatus");if(a=="timeout"){window.location.replace(top.location.href)}}});jQuery.dopAlert=function(e,c){var h=$(document.body);var f="确定要关闭吗？ ";var a="";if(e){f=e}if(c){a="<img src='"+c+"' />"}var d='<div id="dop_alert_Modal" class="modal fade" aria-hidden="true" role="basic" tabindex="-1" style="display: none;z-index:100001!important;"><div class="modal-dialog" style="width: 300px;margin-top:140px;"><div class="modal-content"><div class="modal-header">	<button class="close" aria-hidden="true" onclick="$.dopAlert.destoryAlert()" type="button"></button><h4 class="modal-title" style="text-align:left;">提示</h4></div><div class="modal-body"> '+a+f+'</div><div class="modal-footer"><button class="btn blue" type="button" onclick="$.dopAlert.destoryAlert()">确定</button></div></div></div></div>';var b=[];function g(){h.append(d);var i=window.setInterval(function(){b=$("#dop_alert_Modal");if(b.length>0){b.modal({backdrop:"static",keyboard:false});b.on("hidden.bs.modal",function(j){b.remove()});b.modal("show");clearInterval(i)}},50)}g()};jQuery.dopAlert.destoryAlert=function(){$("#dop_alert_Modal").modal("hide")};jQuery.dopConfirm=function(k,i,g){var e=$(document.body);var c="确定要操作吗？ ";var a;var h="";if(k){c=k}if(i){h="<img src='"+i+"' />"}var f='<div id="dop_confirm_Modal" class="modal fade" aria-hidden="true" role="basic" tabindex="-1" style="display: none;z-index:100001!important;"><div class="modal-dialog" style="width: 300px;margin-top:140px;"><div class="modal-content"><div class="modal-header">	<h4 class="modal-title" style="text-align:left;">提示</h4></div><div class="modal-body"> '+h+c+'</div><div class="modal-footer"><button class="btn blue" data-dismiss="modal" id="okDopConfirmButton" type="button">确定</button><button class="btn default" type="button" id="destoryDopConfirmButton">取消</button></div></div></div></div>';var b=[];function j(){e.append(f);var l=window.setInterval(function(){b=$("#dop_confirm_Modal");if(b.length>0){b.modal({backdrop:"static",keyboard:false});b.on("hidden.bs.modal",function(m){b.remove()});b.modal("show");$("#destoryDopConfirmButton").bind("click",function(){$.dopConfirm.destoryConfirm();d(false)});$("#okDopConfirmButton").bind("click",function(){d(true)});clearInterval(l)}},50)}function d(l){g(l)}j()};jQuery.dopConfirm.destoryConfirm=function(){$("#dop_confirm_Modal").modal("hide")};jQuery.dopErr=function(e,b){var h=$(document.body);var f="关闭 ";var a="";if(e){f=e}if(b){a="<img src='"+b+"' />"}var d='<div id="dop_err_Modal" class="modal fade" aria-hidden="true" role="basic" tabindex="-1" style="display: none;"><div class="modal-dialog" style="width: 400px;margin-top:140px;"><div class="modal-content"><div class="modal-header">	<button class="close" aria-hidden="true" onclick="jQuery.dopErr.destoryAlert()" type="button"></button><h4 class="modal-title" style="text-align:left;">异常信息</h4></div><div class="modal-body"> '+a+'<div  style="resize:none; border:1px solid #CCC;width:338px;margin-bottom:-20px; height:180px; overflow:auto">'+f+'</div></div><div class="modal-footer"><button class="btn blue" type="button" onclick="jQuery.dopErr.destoryAlert()">确定</button></div></div></div></div>';var c=[];function g(){h.append(d);var i=window.setInterval(function(){c=$("#dop_err_Modal");if(c.length>0){c.modal({backdrop:"static",keyboard:false});c.on("hidden.bs.modal",function(j){c.remove()});c.modal("show");clearInterval(i)}},50)}g()};jQuery.dopErr.destoryAlert=function(){$("#dop_err_Modal").modal("hide")};